apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "osu-elastic-indexer-chart.fullname" . }}
  labels:
    {{- include "osu-elastic-indexer-chart.labels" . | nindent 4 }}
data:
  {{- if not (eq nil .Values.config.elasticIndexer.batchSize) }}
  batch_size: {{ .Values.config.elasticIndexer.batchSize | quote }}
  {{- end }}
  {{- if not (eq nil .Values.config.elasticIndexer.bufferSize) }}
  buffer_size: {{ .Values.config.elasticIndexer.bufferSize | quote }}
  {{- end }}
  schema: {{ required "Schema version is required" .Values.config.elasticIndexer.schema | quote }}
  {{- if not (eq nil .Values.config.elasticIndexer.prefix) }}
  prefix: {{ .Values.config.elasticIndexer.prefix | quote }}
  {{- end }}
